<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) -->
<title>MappedMemorySegments (Java SE 16 &amp; JDK 16)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.incubator.foreign, package: jdk.incubator.foreign, class: MappedMemorySegments">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="jdk.incubator.foreign.MappedMemorySegments class">
<meta name="keywords" content="isLoaded()">
<meta name="keywords" content="load()">
<meta name="keywords" content="unload()">
<meta name="keywords" content="force()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 14px;"><strong>Java SE 16 &amp; JDK 16</strong> </div></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MappedMemorySegments.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">jdk.incubator.foreign</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jdk.incubator.foreign</a></div>
<h1 title="Class MappedMemorySegments" class="title">Class MappedMemorySegments</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">java.lang.Object</a>
<div class="inheritance">jdk.incubator.foreign.MappedMemorySegments</div>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">MappedMemorySegments</span>
<span class="extends-implements">extends <a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></span></div>
<div class="block">This class provides capabilities to manipulate mapped memory segments, such as <a href="#force(jdk.incubator.foreign.MemorySegment)"><code>force(MemorySegment)</code></a>,
 and <a href="#load(jdk.incubator.foreign.MemorySegment)"><code>load(MemorySegment)</code></a>. The methods in these class are suitable replacements for some of the
 functionality in the <a href="../../../../java.base/java/nio/MappedByteBuffer.html" title="class in java.nio"><code>MappedByteBuffer</code></a> class. Note that, while it is possible to map a segment
 into a byte buffer (see <a href="MemorySegment.html#asByteBuffer()"><code>MemorySegment.asByteBuffer()</code></a>), and call e.g. <a href="../../../../java.base/java/nio/MappedByteBuffer.html#force()"><code>MappedByteBuffer.force()</code></a> that way,
 this can only be done when the source segment is small enough, due to the size limitation inherent to the
 ByteBuffer API.
 <p>
 Clients requiring sophisticated, low-level control over mapped memory segments, should consider writing
 custom mapped memory segment factories; using JNI, e.g. on Linux, it is possible to call <code>mmap</code>
 with the desired parameters; the returned address can be easily wrapped into a memory segment, using
 <a href="MemoryAddress.html#ofLong(long)"><code>MemoryAddress.ofLong(long)</code></a> and <a href="MemoryAddress.html#asSegmentRestricted(long,java.lang.Runnable,java.lang.Object)"><code>MemoryAddress.asSegmentRestricted(long, Runnable, Object)</code></a>.

 <p> Unless otherwise specified, passing a <code>null</code> argument, or an array argument containing one or more <code>null</code>
 elements to a method in this class causes a <a href="../../../../java.base/java/lang/NullPointerException.html" title="class in java.lang"><code>NullPointerException</code></a> to be thrown. </p></div>
<dl class="notes">
<dt>Implementation Note:</dt>
<dd>The behavior of some the methods in this class (see <a href="#load(jdk.incubator.foreign.MemorySegment)"><code>load(MemorySegment)</code></a>, <a href="#unload(jdk.incubator.foreign.MemorySegment)"><code>unload(MemorySegment)</code></a> and
 <a href="#isLoaded(jdk.incubator.foreign.MemorySegment)"><code>isLoaded(MemorySegment)</code></a>) is highly platform-dependent; as a result, calling these methods might
 be a no-op on certain platforms.</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#force(jdk.incubator.foreign.MemorySegment)">force</a></span>&#8203;(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Forces any changes made to the contents of the given segment to be written to the
 storage device described by the mapped segment's file descriptor.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#isLoaded(jdk.incubator.foreign.MemorySegment)">isLoaded</a></span>&#8203;(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Tells whether or not the contents of the given segment is resident in physical
 memory.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#load(jdk.incubator.foreign.MemorySegment)">load</a></span>&#8203;(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Loads the contents of the given segment into physical memory.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#unload(jdk.incubator.foreign.MemorySegment)">unload</a></span>&#8203;(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Unloads the contents of the given segment from physical memory.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods declared in class&nbsp;java.lang.<a href="../../../../java.base/java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../../java.base/java/lang/Object.html#clone()">clone</a>, <a href="../../../../java.base/java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../../java.base/java/lang/Object.html#finalize()">finalize</a>, <a href="../../../../java.base/java/lang/Object.html#getClass()">getClass</a>, <a href="../../../../java.base/java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../../java.base/java/lang/Object.html#notify()">notify</a>, <a href="../../../../java.base/java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../../java.base/java/lang/Object.html#toString()">toString</a>, <a href="../../../../java.base/java/lang/Object.html#wait()">wait</a>, <a href="../../../../java.base/java/lang/Object.html#wait(long)">wait</a>, <a href="../../../../java.base/java/lang/Object.html#wait(long,int)">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="isLoaded(jdk.incubator.foreign.MemorySegment)">
<h3>isLoaded</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLoaded</span>&#8203;<span class="parameters">(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</span></div>
<div class="block">Tells whether or not the contents of the given segment is resident in physical
 memory.

 <p> A return value of <code>true</code> implies that it is highly likely
 that all of the data in the given segment is resident in physical memory and
 may therefore be accessed without incurring any virtual-memory page
 faults or I/O operations.  A return value of <code>false</code> does not
 necessarily imply that the segment's content is not resident in physical
 memory.

 <p> The returned value is a hint, rather than a guarantee, because the
 underlying operating system may have paged out some of the segment's data
 by the time that an invocation of this method returns.  </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment whose contents are to be tested.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if it is likely that the contents of the given segment
          is resident in physical memory</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the given segment is not alive, or if the given segment is confined
 and this method is called from a thread other than the segment's owner thread.</dd>
<dd><code><a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the given segment is not a mapped memory segment, e.g. if
 <code>segment.isMapped() == false</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="load(jdk.incubator.foreign.MemorySegment)">
<h3>load</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">load</span>&#8203;<span class="parameters">(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</span></div>
<div class="block">Loads the contents of the given segment into physical memory.

 <p> This method makes a best effort to ensure that, when it returns,
 this contents of the given segment is resident in physical memory.  Invoking this
 method may cause some number of page faults and I/O operations to
 occur. </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment whose contents are to be loaded.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the given segment is not alive, or if the given segment is confined
 and this method is called from a thread other than the segment's owner thread.</dd>
<dd><code><a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the given segment is not a mapped memory segment, e.g. if
 <code>segment.isMapped() == false</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unload(jdk.incubator.foreign.MemorySegment)">
<h3>unload</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">unload</span>&#8203;<span class="parameters">(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</span></div>
<div class="block">Unloads the contents of the given segment from physical memory.

 <p> This method makes a best effort to ensure that the contents of the given segment are
 are no longer resident in physical memory. Accessing this segment's contents
 after invoking this method may cause some number of page faults and I/O operations to
 occur (as this segment's contents might need to be paged back in). </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment whose contents are to be unloaded.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the given segment is not alive, or if the given segment is confined
 and this method is called from a thread other than the segment's owner thread.</dd>
<dd><code><a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the given segment is not a mapped memory segment, e.g. if
 <code>segment.isMapped() == false</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="force(jdk.incubator.foreign.MemorySegment)">
<h3>force</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">force</span>&#8203;<span class="parameters">(<a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a>&nbsp;segment)</span></div>
<div class="block">Forces any changes made to the contents of the given segment to be written to the
 storage device described by the mapped segment's file descriptor.

 <p> If this mapping's file descriptor resides on a local storage
 device then when this method returns it is guaranteed that all changes
 made to the segment since it was created, or since this method was last
 invoked, will have been written to that device.

 <p> If this mapping's file descriptor does not reside on a local device then no such guarantee
 is made.

 <p> If the given segment was not mapped in read/write mode (<a href="../../../../java.base/java/nio/channels/FileChannel.MapMode.html#READ_WRITE"><code>FileChannel.MapMode.READ_WRITE</code></a>) then
 invoking this method may have no effect. In particular, the
 method has no effect for segments mapped in read-only or private
 mapping modes. This method may or may not have an effect for
 implementation-specific mapping modes.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segment</code> - the segment whose contents are to be written to the storage device described by the
                segment's file descriptor.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if the given segment is not alive, or if the given segment is confined
 and this method is called from a thread other than the segment's owner thread.</dd>
<dd><code><a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if the given segment is not a mapped memory segment, e.g. if
 <code>segment.isMapped() == false</code>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase16.0.1&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples.<br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2021, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java16.0.1speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <!-- Version 16.0.1+9-24 --></small></p>
</footer>
</div>
</div>
</body>
</html>
